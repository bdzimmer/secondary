\documentclass[%s]{book}

\usepackage{titling}
\usepackage[pagestyles]{titlesec}
\usepackage[T1]{fontenc}
\usepackage{%s}
\usepackage{listings}
\usepackage[scaled=%s]{%s}
\usepackage{enumitem}
\usepackage{tocdata}

\lstset{basicstyle=\footnotesize\ttfamily,breaklines=true}

\usepackage{geometry}
\geometry{
 papersize={%s,%s},
 inner=%s,
 outer=%s,
 top=%s,
 bottom=%s,
 includeheadfoot
}

\titleformat{\chapter}[display]{\normalfont\bfseries}{}{0pt}{\Huge}
\newpagestyle{mystyle}{
  \sethead[\thepage][\textbf{\theauthor}][]
          {}{\textbf{\thetitle}}{\thepage}}
\pagestyle{empty}

\raggedbottom
\emergencystretch 3em

\title{%s}
\author{%s %s}
%% \date{today} %% this seems to be the default

\begin{document}

\frontmatter
\thispagestyle{empty}
\pagenumbering{empty} %% no page numbers or headers in front matter

%% \maketitle

%s

\tableofcontents

\mainmatter
\pagestyle{mystyle}

%s

\end{document}