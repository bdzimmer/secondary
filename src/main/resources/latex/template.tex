\documentclass[%s]{book}       %% ARG 0: font size

\usepackage{titling}
%% consider whether to enable rigidchapters on titlesec here
%% I believe that allows a consistent amount of space
%% between the top of the title and body text no matter how many
%% lines of title / subtitle / author there are
%% rigidchapters also allows the vertical spacing between
%% the TOC title and first entry to match the chapters
\usepackage[pagestyles]{titlesec}
\usepackage[T1]{fontenc}
\usepackage{%s}                %% ARG 1: font face
\usepackage{listings}
\usepackage[scaled=%s]{%s}     %% ARG 2, 3: fixed-width font scale
\usepackage{enumitem}          %%           fixed-width font face
\usepackage{tocdata}
%% THIS HAS TO GO AFTER TOCDATA!!!
\usepackage{titletoc}

%% turn this on to show margins
%% \usepackage[showframe]{geometry}

%% this is new, makes empty pages truly empty with no header
\usepackage{emptypage}

\lstset{basicstyle=\footnotesize\ttfamily,breaklines=true}

\usepackage{geometry}
\geometry{
 papersize={%s,%s},           %% ARG 4, 5: paper width, paper height
 inner=%s,                    %% ARG 6: inner margin
 outer=%s,                    %% ARG 7: outer margin
 top=%s,                      %% ARG 8: top margin
 bottom=%s,                   %% ARG 9: bottom margin
 footskip=%s                  %% ARG 10: footskip
 %% includeheadfoot
}

%% custom table of contents formatting

\titlecontents{chapter}
    [0em]                        %% left
    %% put stuff like bold style here in abovecode
    {\hangindent=1em}            %% abovecode
    {\thecontentslabel.\enspace} %% numbered-entry-format
    {}                           %% numberless-entry-format
    {\hfill\contentspage}        %% filler-page-format
    [\bigskip]                   %% below-code


%% title formatting for chapters

%% standard title for:
\titleformat{\chapter}[display]{\normalfont\bfseries}{}{0pt}{\huge}
%% \titlespacing*{\chapter}{0pt}{50pt}{40pt}   %% default titlespacing from titlesec documentation

%% special command for chapter titles with author name below in italics
%% https://tex.stackexchange.com/questions/443367/how-to-add-a-subtitle-to-some-chapters
\newcommand\ChapterAuthor[2]{\chapter*{#1\newline\large\textit{#2}}}

\newpagestyle{mystyle}{

%% original style: author and title
%%  \sethead[\thepage][\textbf{\theauthor}][]
%%          {}{\textbf{\thetitle}}{\thepage}}

%% new style: title and chapter title - hardcoded for now
%%  \sethead[\thepage][\textbf{TODO BOOK TITLE TODO}][]
%%           {}{\textbf{\thetitle}}{\thepage}

%% ARG 11: title format
%s
}
\pagestyle{empty}

%% aggressively penalize widows and orphans
\widowpenalty=10000
\clubpenalty=10000

\raggedbottom
\emergencystretch 3em

\title{%s}                %% ARG 12: title
\author{%s %s}            %% ARG 13, 14: first name, last name
%% \date{today}

\begin{document}

\frontmatter
\pagestyle{empty}

%% this disables page numbers or headers in front matter,
%% which isn't what we want
%% we want the pages to be numbered,
%% but the numbers shouldn't appear until the foreword
%% \pagenumbering{empty}

%% blank page before title page
\ \thispagestyle{empty} \clearpage
\ \thispagestyle{empty} \clearpage

%% set arabic page numbering and prevent further resets
%% of the numbering by disabling the command
%% we do this here so the blank page(s) before the
%% title page are not numbered
\pagenumbering{arabic}
\renewcommand{\pagenumbering}[1]{}

%% We don't need to maketitle since we do it manually below
%% \maketitle

%% title page goes here
%% ARG 15: title page

%s

%% table of contents (\tableofcontents) goes here
%% needs a \thispagestyle{empty} especially
%% pagenumbering is disabled in \frontmatter

%% ARG 16: table of contents

%s

\mainmatter
\pagestyle{mystyle}


%% chapters go here
%% ARG 17: chapters

%s


\end{document}
